/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require){"use strict";var a=require("mithril"),b=require("application/mixins/has-app-events"),c=require("system/globalization/translator"),d=require("logging/error-notification-handler");function e(a){b.mixinProperties(this),this.view=a,this.translator=Object.resolve(c),this.errorNotificationHandler=Object.resolve(d),this.mithrilRoot=null}b.mixinMethods(e.prototype),e.prototype.attach=function b(c){Object.tryMethod(this,"beforeAttach",c),this.mithrilRoot=Element.build("div",null,["mithril-root"]),c.attach(this.mithrilRoot),a.mount(this.mithrilRoot,{controller:f.bind(null,this),view:this.view}),Object.tryMethod(this,"afterAttach",c)},e.prototype.detach=function b(c){Object.tryMethod(this,"beforeDetach",c),a.mount(this.mithrilRoot,null),this.mithrilRoot=null,c.clear(),Object.tryMethod(this,"afterDetach",c)},e.prototype.translate=function a(b){return this.translator.translate(b)};function f(a){return a}return e});