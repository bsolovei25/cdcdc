/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function a(require){"use strict";var b=require("lodash"),c=require("knockout"),d=require("system/lang/unique-id"),e=require("./dashboard-user"),f=require("mi-assert");function g(a,b,g,k,l){f.ok(a,"parent"),this.parent=a,this.user=new e,this.text=c.observable(b||""),this.url=c.observable(g||""),this.uniqueID=c.observable(k||d.createV4()),this.caption=c.observable(l||b||""),this.target=c.computed(i.bind(null,this)),this.translationContext=c.computed(h.bind(null,this)),this.text.subscribe(j.bind(null,this))}g.copy=function a(c){return f.isArray(c),b.invokeMap(c,"copy")},g.prototype.copy=function a(){return new g(this.parent,this.text(),this.url(),this.uniqueID(),this.caption())};function h(a){return a.parent.localizationContext(a.uniqueID())}function i(a){return f.instanceOf(a,g),0===a.url().indexOf("#")?"tab":"_blank"}function j(a,b){f.isString(b,"value"),a.user.usesDefaultLanguage()?a.caption(b):k(a,b)}function k(a,b){require(["../services/dashboard-service"],l.bind(null,a,b))}
function l(a,b,c){Object.resolve(c).getTranslation(a.user.language(),b,a.translationContext()).done(m.bind(null,a))}function m(a,b){a.caption(b)}return g});