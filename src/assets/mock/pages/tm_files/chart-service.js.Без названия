/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require){"use strict";var a=require("ramda"),b=require("jquery"),c=require("system/lang/ioc").resolve,d=require("system/http/ajax-client"),e=require("system/http/ajax-request"),f=require("security/services/timezone-dto"),g="api/core/localizer",h=g+"/translations?localizableType={0}&defaultValue={1}&objectContext={2}",i="api/core/globalization",j=null;function k(){this.ajaxClient=c(d)}k.prototype.getByKey=function(a){return this.ajaxClient.get("api/core/catalog/item/"+a)},k.prototype.getByPath=function(a){return this.ajaxClient.get("api/core/catalog/item?path="+a)},k.prototype.getTimezones=function(){return null===j&&(j=c(d).get(i+"/timezone",{}).done(f.fromDataCollection).fail(a.identity)),j.promise()},k.prototype.getTranslation=function(a,c,d){var f=b.Deferred(),g=l(c,d);return e.get(g).send(f).done(m.bind(null,f,a,c)),f.promise()};function l(a,b){return h.replace("{0}",encodeURIComponent(28)).replace("{1}",encodeURIComponent(a)).replace("{2}",encodeURIComponent(b))}
function m(b,c,d,e){var f=a.find(a.propEq("cultureId",c))(e);f&&(d=f.value),b.resolve(d)}return k});