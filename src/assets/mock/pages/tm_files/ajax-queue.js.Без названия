/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require){"use strict";var a=require("jquery"),b=require("./ajax-client");function c(){this.items=[],this.client=Object.resolve(b),this.running=!1}c.prototype.get=function(a,b){return d(this,"get",a,b)},c.prototype.post=function(a,b,c){return d(this,"post",a,c,b)},c.prototype.put=function(a,b,c){return d(this,"put",a,c,b)},c.prototype.delete=function(a,b){return d(this,"delete",a,b)};function d(b,c,d,f,h){var i=a.Deferred();return b.items.push(g(i,c,d,f,h)),b.running||e(b),i.promise()}function e(a){var b=a.items.shift();b?(a.running=!0,f(a,b)):a.running=!1}function f(b,c){var d;"get"===c.method?d=b.client.get(c.url,c.options):"post"===c.method?d=b.client.post(c.url,c.data,c.options):"put"===c.method?d=b.client.put(c.url,c.data,c.options):"delete"===c.method?d=b.client.delete(c.url,c.options):(d=a.Deferred(),d.resolve()),d.done(function(){c.dfd.resolve.apply(c.dfd,arguments)}).fail(function(a){c.dfd.reject(a)}).always(function(){e(b)})}function g(a,b,c,d,e){return{dfd:a,
method:b,url:c,options:d,data:e}}return c});