/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require){"use strict";var a=require("dashboard/view-models/widget-editor"),b=require("dashboard/views/image-widget/image-widget-editor-view");require("ui/elements/localize/localize-element");function c(a){d.call(this,a,b.html),this.editorView=Object.resolve(b),this.widgetVM.path.subscribe(e.bind(null,this))}var d=Object.inherit(a,c);c.prototype.afterAttach=function(a){try{this.editorView.attach(a),Element.upgrade(a.element.querySelectorAll("mi-localize"))}catch(a){d.prototype.onError.call(this,a)}};function e(a){var b=a.widgetVM.path(),c=b.split("/"),d=f(c[c.length-1]);a.widget.name(d)}function f(a){return a=a.substr(0,a.lastIndexOf("."))}return c.prototype.afterDetach=function(){try{this.editorView.detach()}catch(a){d.prototype.onError.call(this,a)}},c});