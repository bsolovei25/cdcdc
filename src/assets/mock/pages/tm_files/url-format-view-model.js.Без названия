/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require){"use strict";var a=require("jquery"),b=require("application/application-events"),c=require("spa/conductor"),d=require("system/error/error-message"),e=require("spa/ko/knockout-view-model"),f=require("knockout"),g=require("system/knockout/knockout-manager"),h=require("spa/region"),i=require("system/globalization/translator"),j=require("text!./views/url-format.html");require("system/lang/string"),require("system/lang/object"),require("ui/elements/radio/radio-view-model");function k(a,b){l.call(this,j),this.kom=a,this.applicationEvents=b,this.translator=Object.resolve(i),this.region=null,this.builder=null}var l=Object.inherit(e,k);k.factory=function(){return new k(Object.resolve(g),Object.resolve(b))},k.prototype.load=function(b){var c=new a.Deferred,d=this;return this.builder=b,c.promise()},k.prototype.unload=function(){this.kom.disposeObservables()},k.prototype.activate=function(){},k.prototype.deactivate=function(a){this.kom.disposeSubscriptions(),
this.kom.disposeComputeds()},k.prototype.attach=function(a){this.region=new h,this.region.setElement(a.$element.find(".content")),l.prototype.attach.call(this,this.region),this.builder.urlFormat&&this.builder.urlFormat()&&this.builder.urlFormat().length>0?this.builder.wizard.setAttribute("data-valid",!0):this.builder.wizard.setAttribute("data-valid",!1)},k.prototype.detach=function(a){l.prototype.detach.call(this,a)},k.prototype.canUnload=function(){return!0},k.prototype.onChecked=function(a,b){this.builder.wizard.setAttribute("data-valid",!0),this.builder.onFormatSelected(b.target.value)},k.prototype.translate=function(a){return this.translator.translate(a)};function m(a,b){var c=2,e=b,f=new d(c,e);a.applicationEvents.errorOccured.raise(a,f)}function n(a,b){m(a,b.statusText)}return k});