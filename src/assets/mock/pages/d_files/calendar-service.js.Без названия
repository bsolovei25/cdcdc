/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require){"use strict";var a=require("jquery"),b=require("system/http/ajax-client"),c=require("query/execution/query-execution-engine"),d="api/core/catalog";function e(a){this.ajaxClient=a,this.queryExecutionEngine=Object.resolve(c)}return e.dependsOn=[b],e.prototype.getCatalogItem=function(b){var c=a.Deferred();return this.ajaxClient.get(d+"/item?path="+encodeURIComponent(b)).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c.promise()},e.prototype.executeQueryEngine=function a(b){var d={catalogItemKey:b.key,pageSize:1,suppressPrompts:!0};return this.queryExecutionEngine=new c(d),this.queryExecutionEngine.execute(d)},e.prototype.getDataByPath=function b(c){var d=a.Deferred();return this.getCatalogItem(c).then(this.executeQueryEngine.bind(this)).done(d.resolve),d},e});