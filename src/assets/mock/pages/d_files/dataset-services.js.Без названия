/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require,exports,module){"use strict";var a=require("jquery"),b=require("system/http/ajax-client"),c=require("application/application-context"),d="api/core/dataset/";function e(a){this.ajaxClient=a}return e.dependsOn=[b],e.prototype.uploadFile=function b(d){var e=a.Deferred(),f={MeridiumToken:c.session.id},g={url:"api/core/dataset/CacheImport",method:"POST",data:d,headers:f,cache:!1,contentType:!1,processData:!1};return a.ajax(g).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e},e.prototype.fetchPreview=function b(c){var e=a.Deferred();return this.ajaxClient.post(d+"PreviewDataset",c,{}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e},e.prototype.fetchDataset=function b(c){var e=a.Deferred();return this.ajaxClient.post(d+"RetrieveDataset",c,{}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e},e.prototype.fetchDatasetKey=function a(b){var c=d+"RetrieveDatasetKey/";return this.ajaxClient.get(c+b)},
e.prototype.fetchDatasetPath=function a(b){var c=d+"RetrieveDatasetPath?path="+encodeURIComponent(b);return this.ajaxClient.get(c)},e.prototype.createDataset=function b(c){var e=a.Deferred();return this.ajaxClient.post(d+"CreateDataset",c,{}).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e},e.prototype.createDatasetCatalogItemFromQuery=function b(c){var e=a.Deferred();return this.ajaxClient.post(d+"CreateDatasetCatalogItem/query",c).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e},e.prototype.putDataset=function b(c){var e=a.Deferred(),f=d+"UpdateDataset";return this.ajaxClient.put(f,c).done(function(a){e.resolve(a)}).fail(function(a){e.reject(a)}),e.promise()},e});