/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require,exports,module){"use strict";var a=require("mithril"),b=require("system/mithril/mithril-extensions"),c=require("system/mithril/html-tags"),d=require("system/mithril/bootstrap-tags"),e=require("system/mithril/devex-tags"),f=require("system/diagnostics/log-manager"),g=f.getLogger(module.id),h=require("system/ui/busy-indicator"),i=require("mi-assert");function j(a){try{return i.isObject(a,"vm"),k(a,[l(a),m(a),n(a)])}catch(a){throw g.error(a.stack),a}}function k(a,b){return c.div({className:"localize-dialog",config:r.bind(null,a)},b)}function l(a){return u(a),c.h1(a.text("SPECIFY_LOCALIZED_VALUES"))}function m(a){return u(a),d.formGroup([c.label(a.text("DEFAULT_VALUE")),d.textBox({value:a.localization.phrase(),disabled:!0})])}function n(a){return u(a),e.dataGrid([e.table([c.thead([e.dataRow([c.td(a.text("CULTURE")),c.td(a.text("VALUE_LABEL"))])]),e.rowsView(b.map(a.localization.values(),o,q.bind(null,a)))])])}function o(b){return i.isObject(b,"value"),
i.ok(b.culture(),"value.culture"),i.isString(b.phrase(),"value.phrase"),e.dataRow(p(b),[c.td(b.culture().toString()),c.td([d.textBox({onchange:a.withAttr("value",b.phrase),onfocus:b.selected.bind(null,!0),onblur:b.selected.bind(null,!1),value:b.phrase()})])])}function p(a){return a.selected()?{className:"dx-selection"}:{}}function q(a){return u(a),c.tr([c.td({colspan:2,className:"text-center"},a.text("NO_LICENSED_CULTURES"))])}function r(a,b,c,d){var e=s(b,d);a.working()?e.show():e.hide()}function s(a,b){return b.indicator||(b.indicator=Object.resolve(h,"loading-large"),b.indicator.attachTo(a)),b.onunload||(b.onunload=t.bind(null,b)),b.indicator}function t(a){a.indicator.container=null,a.indicator=null}function u(a){i.isObject(a,"vm"),i.isFunction(a.text,"vm.text"),i.isObject(a.localization,"vm.localization"),i.isFunction(a.localization.phrase,"vm.localization.phrase")}return j});