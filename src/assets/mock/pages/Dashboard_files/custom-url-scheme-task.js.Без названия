/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require,exports,module){"use strict";var a=require("mi-assert"),b=require("./i-task"),c=require("application/application-events"),d=require("logging/error-notification-handler"),e=require("system/diagnostics/log-manager"),f=e.getLogger(module.id),g=require("system/hardware/device");function h(){a.implementsInterface(this,b,"this"),this.applicationEvents=Object.resolve(c),this.errorNotificationHandler=Object.resolve(d)}h.prototype.execute=function(){try{i(this)}catch(a){f.error(a.stack),this.errorNotificationHandler.addError({errorMessage:a.message,errorDetail:a.stack})}};function i(a){var b=new g,c;b.isMobileApp()&&(c=j(),m(a),c&&(c=k(c),setTimeout(l.bind(null,a,c),3e3)))}function j(){return window.sessionStorage.customUrl}function k(a){return a=a.replace("meridium://",""),a=a.replace("rte=","")}function l(a,b){a.applicationEvents.navigate.raise(b,{tab:!0}),window.sessionStorage.customUrl=null}function m(a){window.handleOpenURL=null,window.handleOpenURL=function(b){
window.sessionStorage.customUrl=b,a.execute()}}return h});