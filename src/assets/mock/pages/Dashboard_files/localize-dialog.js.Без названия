/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require,exports,module){"use strict";var a=require("jquery"),b=require("system/ui/dialog-box"),c=require("./view-models/localize-dialog-view-model"),d=require("system/diagnostics/log-manager"),e=d.getLogger(module.id),f=require("mi-assert");function g(b,d,e,g,j){var k,n,o;try{return f.isNumber(b,"type"),f.stringNotEmpty(d,"phrase"),f.isString(e,"key"),f.isString(g,"context"),m(e,g),j=j||{},k=a.Deferred(),n=Object.resolve(c,b,d,e,g),o=h(n,j),o.show().done(i.bind(null,k,n)),k.promise()}catch(a){l(a)}}function h(a,c){return f.isObject(a,"vm"),f.isObject(c,"options"),new b(a,a.title(),{buttons:[{name:a.text("SAVE"),value:"save",cssClass:"btn-primary btn-localize-save"},{name:a.text("CANCEL"),value:"cancel",cssClass:"btn-default"}],height:c.height||"60%",width:c.width||"50%"})}function i(a,b,c){try{f.isNumber(c,"cancelled"),c?j(a):k(a,b)}catch(a){l(a)}}function j(a){f.isDeferred(a,"dfd"),a.reject()}function k(a,b){f.isDeferred(a,"dfd"),f.isObject(b,"vm"),
a.resolve(b.localization.currentPhrase())}function l(a){throw e.error(a.stack),a}function m(a,b){f.assert(a.length+b.length>0,"Either key or context must be populated: key = "+a+", context = "+b)}return{show:g}});