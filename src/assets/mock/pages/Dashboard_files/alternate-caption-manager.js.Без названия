/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(["require","exports","system/globalization/translator","../../../dcm/services/system-codes-and-tables-service","../../../dcm/services/state-configuration-service","toastr"],function(require,exports,a){"use strict";var b=require("../../../dcm/services/system-codes-and-tables-service"),c=require("../../../dcm/services/state-configuration-service"),d=require("toastr"),e=Object;return function(){function f(){this.systemCodesAndTablesService=e.resolve(b),this.stateConfigurationService=e.resolve(c),this.translator=e.resolve(a),this.alternateCaptionFamilyId="",this.alternateCaptionType=""}return f.prototype.getAlternateCaptions=function(a,b){
return b.categorySystemCodeTableId?this.systemCodesAndTablesService.getSystemCodes(b.categorySystemCodeTableId).done(this.getSystemCodesDone.bind(null,a)).fail(this.getCaptionsFailed.bind(null,this,a,"SYSTEM_CODE_CAPTION_FAIL")):b.categoryStatemachineFmlyId?this.stateConfigurationService.getStateConfigDataWithFamilyId(b.categoryStatemachineFmlyId).done(this.getStatemachineDone.bind(null,a)).fail(this.getCaptionsFailed.bind(null,this,a,"STATE_MACHINE_CAPTION_FAIL")):a.resolve(),a},f.prototype.getStatemachineDone=function(a,b){a.resolve(b.states)},f.prototype.getSystemCodesDone=function(a,b){a.resolve(b)},f.prototype.getCaptionsFailed=function(a,b,c){d.error(a.translator.translate(c)),b.reject()},f.prototype.altCaptionFamilyIdChanged=function(a){var b=!1;return"state"!==this.alternateCaptionType&&(b=this.alternateCaptionFamilyId===a.categoryStatemachineFmlyId),"systemCode"!==this.alternateCaptionType&&(b=this.alternateCaptionFamilyId===a.categorySystemCodeTableId),b},
f.prototype.setAlternateCaptionFamilyId=function(a){a.categorySystemCodeTableId?this.alternateCaptionFamilyId=a.categorySystemCodeTableId:a.categoryStatemachineFmlyId?this.alternateCaptionFamilyId=a.categoryStatemachineFmlyId:this.alternateCaptionFamilyId=""},f.prototype.setAlternateCaptionType=function(a){a.categorySystemCodeTableId?this.alternateCaptionType="systemCode":a.categoryStatemachineFmlyId?this.alternateCaptionType="state":this.alternateCaptionType=""},f.prototype.hasAlternateCaptions=function(a){return!(!a.categorySystemCodeTableId&&!a.categoryStatemachineFmlyId)},f}()});