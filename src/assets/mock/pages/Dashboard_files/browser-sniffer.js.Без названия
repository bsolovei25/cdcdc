/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require,exports,module){"use strict";var a=require("system/diagnostics/log-manager"),b=a.getLogger(module.id),c=require("text!system/hardware/browser-sniffer/config/whitelisted-platforms.json"),d=require("text!system/hardware/browser-sniffer/config/supported-platforms.json"),e=require("../../../../lib/detect"),f=require("system/hardware/device");function g(a){this.userAgent=a,this.parsedUserAgent=e.parse(this.userAgent)}g.prototype.isSupportedPlatform=function(){return!!h(this)||(!!i(this)||(r(this),!1))};function h(a){for(var b=JSON.parse(d),c=b.platforms,e=0;e<c.length;e++)if(j(a,c[e]))return!0}function i(a){for(var b=JSON.parse(c),d=b.platforms,e=0;e<d.length;e++)if(k(a,d[e]))return!0}function j(a,b){return l(a,b.platform,b.version)}function k(a,b){if(b){return b.userAgent===a.userAgent}return!1}function l(a,b,c){var d=new f;return d.isMobileApp()&&!d.isWindowsApp()?m(b,c,a.parsedUserAgent.os):m(b,c,a.parsedUserAgent.browser)}function m(a,b,c){return!n(c)||o(a,b,c)}
function n(a){return a.version&&a.family}function o(a,b,c){return p(a,c.family)&&q(b,c.version)}function p(a,b){return b.toUpperCase()===a.toUpperCase()}function q(a,b){return parseFloat(a)<=parseFloat(b)}function r(a){b.error("Unsupported browser.  User Agent: "+a.userAgent)}return g});