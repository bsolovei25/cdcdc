/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(["require","exports","system/lang/object","application/application-context","bluebird","ramda","application/application-events","system/lang/private","assets/services/asset-context-service","assets/services/hierarchy-service"],function(require,exports,a,b,c,d,e,f){"use strict";var g=require("assets/services/asset-context-service"),h=require("assets/services/hierarchy-service"),i=function(){function b(){var b=this;this.getAssetContext=function(){return j(b)},this.setAssetContext=function(a){return d.composeP(l.bind(null,b),k.bind(null,b))(a)},f(this).assetContextService=a.resolve(g),f(this).hierarchyService=a.resolve(h),f(this).appEvents=a.resolve(e)}return b}();exports.AppHubAssetContextSync=i;function j(a){return c.resolve(f(a).assetContextService.getAssetContextAppHub())}function k(a,b){return c.resolve(f(a).assetContextService.setAssetContextAppHub(b))}function l(a,c){b.assetcontext=c,f(a).hierarchyService.storeAssetHierarchyKey(c.entityKey),
f(a).appEvents.assetcontextChanged.raise(c)}});