/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require){"use strict";var a=require("ui/elements/chart/models/chart-config-dto"),b=require("ui/elements/chart/models/series-dto"),c=require("system/globalization/translator"),d=require("ui/elements/chart/chart-utilities"),e=require("ui/elements/chart/models/axis-dto");function f(){}f.fromDTO=function(b){var c=new a(b);return h(c,b),i(c,b.chartType,b.chartTypes),g(c,b),c},f.deserialize=function(a){var b=JSON.parse(a);return f.fromDTO(b)},f.serialize=function(a){return JSON.stringify(a)};function g(a,b){var d;if(b.axis&&b.axis[0]instanceof e)return void(a.axis=b.axis);a.axis=[],b.axis?(a.axis[0]=new e(b.axis[0]),a.axis[1]=new e(b.axis[1]),a.axis[2]=new e(b.axis[2])):(a.axis[0]=new e({name:b.seriesName}),a.axis[1]=new e({index:1}),a.axis[2]=new e({index:2,gridLines:!1})),a.axis[0].index=0,a.axis[1].index=1,a.axis[2].index=2,d=Object.resolve(c),a.axis[0].axis=d.translate("CHART_LEFT_AXIS"),a.axis[1].axis=d.translate("CHART_RIGHT_AXIS"),
a.axis[2].axis=d.translate("CHART_BOTTOM_AXIS")}function h(a,c){var e,f=new d;if(a.series=[],c.series&&c.series[0]instanceof b)return void(a.series=c.series);if(c.series)for(e=0;e<c.series.length;e++)c.series[e].color||(c.series[e].color=f.CHART_COLORS[e]),a.series[e]=new b(c.series[e]);else{if(c.sliceProperty)return void(a.series=[new b({name:c.sliceProperty})]);if(c.sliceProperties&&c.sliceProperties.length>0)for(e=0;e<c.sliceProperties.length;e++)a.series[e]=new b({name:c.sliceProperties[e]});else;}}function i(a,b,c){var d;if(b){for(d=0;d<a.series.length;d++)a.series[d].chartType||(a.series[d].chartType=b);a.stacked=0===b.lastIndexOf("stacked",0),a.stock=0===b.lastIndexOf("stock",0),b.indexOf("stock")>-1?a.stock=!0:a.stock=!1}else if(c&&c.length>0)for(d=0;d<c.length;d++)a.series[d].chartType=c[d],a.stacked=a.stacked||0===c[d].lastIndexOf("stacked",0),
c[d].indexOf("stock")>-1?a.stock=!0:a.stock=!1;else for(d=0;d<a.series.length;d++)a.stacked=a.stacked||0===a.series[d].chartType.lastIndexOf("stacked",0),a.series[d].chartType.indexOf("stock")>-1?a.stock=!0:a.stock=!1}return f});