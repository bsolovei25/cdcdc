/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require){"use strict";var a=require("lodash"),b=require("ramda"),c=require("later"),d=b.keys;function e(){this.actions={},this.schedules={},this.intervals={}}e.singleton=!0,e.prototype.addTask=function(a,b){f(this,a.id,b),g(this,a.id,a.schedule)};function f(a,b,c){a.actions[b]=c.execute.bind(c)}function g(a,b,d){a.schedules[b]=c.parse.text(d)}return e.prototype.enableTask=function(a){var d=this.actions[a],e=this.schedules[a];d&&e&&b.isNil(this.intervals[a])&&(this.intervals[a]=c.setInterval(d,e))},e.prototype.disableTask=function(a){var b=this.intervals[a];b&&(b.clear(),delete this.intervals[a])},e.prototype.removeTask=function(a){this.disableTask(a),delete this.actions[a],delete this.schedules[a]},e.prototype.listTasks=function(){return d(this.actions)},e});