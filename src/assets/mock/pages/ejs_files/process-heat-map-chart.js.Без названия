/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require){"use strict";var a=require("lodash"),b=require("ui/elements/chart/chart-utilities");function c(){}c.processData=function(c,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t={},u=f.chartData,v=f.categoryArray;for(l=0;l<v.length;l++)if(0===u.length&&(u[0]={data:[],urls:[],formattedValues:[]}),!e(u[0].data,l))for(m=0;m<h.length;m++)n=b.getRowValueFromQuery(j,h,m),n=a.isNaN(Number(n))?0:Number(n),r=b.getFormattedValueFromQuery(g,j,h,m),p=b.extractHyperlinkHref(j,h,m),o=c.chartUtilities.translateChartType(g.series[m].chartType),s=b.extractHyperlinkHref(j,v,0),t[g.categoryProperty]=b.getFormattedValueFromQuery(g,j,k,0),t[g.categoryProperty]=b.formatHyperlink(t[g.categoryProperty],s),t[g.series[m].name]=b.formatHyperlink(r,p),u[0].data.push([l,m,n]),u[0].urls.push(p),u[0].formattedValues.push(r?r:""),q=d(i,l,m),g.heatmap.colorSeries.push({name:v[l]+" | "+g.heatmap.yAxis[m],x:l,y:m,value:n,color:q,url:p,formattedValue:r});f.gridData.data[f.gridData.data.length]=t};function d(a,b,c){
var d,e;if(a.length>0)for(d=0;d<a.length;d++)a[d]&&a[d].x===b&&a[d].y===c&&(e=a[d].color);return e?e:"#ffffff"}function e(a,b){var c,d=!1;for(c=0;c<a.length;c++)a[c][0]===b&&(d=!0);return d}return c});