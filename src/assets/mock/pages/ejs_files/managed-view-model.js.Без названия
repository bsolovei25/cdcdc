/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require){"use strict";var a=require("./knockout-view-model"),b=require("system/knockout/knockout-manager"),c=require("system/globalization/translator"),d=require("logging/error-notification-handler"),e=require("system/lang/functional");function f(a,h){Object.abstractClass(this,f),g.call(this,a),this.kom=Object.resolve(b,h||e.noop),this.translator=Object.resolve(c),this.errorNotificationHandler=Object.resolve(d),this.region=null}var g=Object.inherit(a,f);return f.prototype.attach=function(a){Object.tryMethod(this,"beforeAttach",a),g.prototype.attach.call(this,a),this.region=a,Object.tryMethod(this,"afterAttach",a)},f.prototype.detach=function(a){Object.tryMethod(this,"beforeDetach",a),g.prototype.detach.call(this,a),this.kom.disposeSubscriptions(),this.kom.disposeComputeds(),this.region=null,Object.tryMethod(this,"afterDetach",a)},f.prototype.unload=function(){Object.tryMethod(this,"beforeUnload"),this.kom.dispose(),Object.tryMethod(this,"afterUnload")},
f.prototype.translate=function(a){return this.translator.translate(a)},f.prototype.reportError=function(a,b,c){b&&b.error(a.stack),this.errorNotificationHandler.addError({errorCode:c||null,errorMessage:a.message,errorDetail:a.stack})},f});