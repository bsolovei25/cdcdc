/* Copyright Â© 1993-2019 Meridium, Inc. All rights reserved.  */
define(function(require){"use strict";var a=require("lodash"),b=require("mi-assert"),c=require("./i-task"),d=require("./task-loader"),e=require("text!config/startup-tasks.json"),f=require("./task-config-file"),g=require("./scheduled-task-manager");function h(){var a=Object.resolve(f,e);this.configs=a.getScheduledTasks(),this.taskLoader=Object.resolve(d),this.taskManager=Object.resolve(g),b.implementsInterface(this,c,"this")}h.prototype.execute=function(){this.taskLoader.load(this.configs).then(i.bind(null,this))};function i(b,c){a.forEach(b.configs,j.bind(null,b,c))}function j(a,b,c,d){a.taskManager.addTask(c,b[d]),c.disabled||a.taskManager.enableTask(c.id)}return h});