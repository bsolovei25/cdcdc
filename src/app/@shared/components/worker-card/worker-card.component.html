<div class="person" *ngIf="person">
  <ng-container *ngIf="!isSmallCard; else smallCard">
    <svg width="100%" height="100%" viewBox="0 0 50 50">
      <image
        x="-36"
        y="3.5"
        width="42"
        height="42"
        preserveAspectRatio="xMidYMid slice"
        style="clip-path: circle(50% at center);"
        [attr.xlink:href]="photoPath"
      />

      <image
        x="-39"
        y="-0.5"
        width="120"
        height="50"
        xlink:href="assets/icons/widgets/admin/worker-card.svg"
      />

      <text
        x="33"
        y="9"
        text-anchor="start"
        class="svg__txt"
        *ngIf="phoneRegExp.test(person.phone)"
      >
        +7 {{person.phone|mask:'(000) 000-00-00'}}
      </text>
      <text
        x="33"
        y="9"
        text-anchor="start"
        class="svg__txt"
        *ngIf="!phoneRegExp.test(person.phone)"
      >
        Телефон не указан
      </text>
      <text x="33" y="20" text-anchor="start" class="svg__txt">
        {{wrapLongString(person.email)}}
      </text>
      <text x="33" y="32" text-anchor="start" class="svg__txt">
        {{wrapLongString(getPersonUnit())}}
      </text>
      <text x="33" y="43" text-anchor="start" class="svg__txt">
        {{wrapLongString(getPersonBrigade())}}
      </text>
      <image
        x="-35"
        y="40"
        width="9"
        height="9"
        [attr.xlink:href]="mainWorkerPath"
        *ngIf="checkPersonResponsibility()"
      />
    </svg>
  </ng-container>

  <ng-template #smallCard>
    <svg width="100%" height="100%" viewBox="0 0 200 100" class="small">
      <image
        x="-36"
        y="10"
        width="80"
        height="80"
        preserveAspectRatio="xMidYMid slice"
        style="clip-path: circle(40px at center);"
        [attr.xlink:href]="photoPath"
      />

      <image
        x="-65"
        y="0"
        width="300"
        height="100"
        [attr.xlink:href]="(isActiveCard)?srcCardActive:srcCardNormal"
      />

      <text
        x="65"
        y="32"
        text-anchor="start"
        class="svg__txt-small"
        [ngClass]="{'svg__txt-small-active':isActiveCard}"
      >
        {{wrapLongString(getPersonName())}}
      </text>
      <text
        x="65"
        y="79"
        text-anchor="start"
        class="svg__txt-small"
        [ngClass]="{'svg__txt-small-active':isActiveCard}"
      >
        {{wrapLongString(getPersonPosition())}}
      </text>
      <image
        x="-40"
        y="75"
        width="25"
        height="25"
        [attr.xlink:href]="mainWorkerPath"
        *ngIf="checkPersonResponsibility() && isActiveCard"
      />
      <image
        x="-40"
        y="75"
        width="25"
        height="25"
        [attr.xlink:href]="mainWorkerPathDisable"
        *ngIf="checkPersonResponsibility() && !isActiveCard"
      />
    </svg>
  </ng-template>
</div>
