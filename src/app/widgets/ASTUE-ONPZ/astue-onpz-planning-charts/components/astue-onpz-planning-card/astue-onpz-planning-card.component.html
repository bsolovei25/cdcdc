<div class="card" *ngIf="!!data">
  <div class="card__header header">
    <div class="header__tag">{{data.tag}}</div>
    <div class="header__title">{{data.title}}</div>
    <div class="header__unit">{{data.unitName}}</div>
    <svg-icon
      class="header__icon"
      [class.header__icon__active]="(astueOnpzService.sharedPlanningGraph$ | async) === data"
      src="assets/icons/widgets/ASTUE-ONPZ/fullscreen.svg"
      (click)="graphOpen()"
      [svgStyle]="{ 'width.px':25, 'height.px':25}"
    ></svg-icon>
    <div class="header__button"><span></span></div>
  </div>
  <div class="card-border">
    <div class="card__legend legend">
      <div class="legend__units">{{data.units}}</div>
      <div class="legend__buttons">
        <svg-icon
          class="button"
          src="assets/icons/widgets/ASTUE-ONPZ/astue-onpz-planning-charts/plus.svg"
        ></svg-icon>
        <svg-icon
          class="button"
          src="assets/icons/widgets/ASTUE-ONPZ/astue-onpz-planning-charts/minus.svg"
        ></svg-icon>
      </div>
      <div class="legend__value value">
        <div class="value__title">Факт</div>
        <div class="value__card">{{data.currentFactValue}}</div>
      </div>
    </div>
    <div class="card__chart">
      <evj-limits-chart [data]="data.graph"></evj-limits-chart>
    </div>
  </div>
</div>
