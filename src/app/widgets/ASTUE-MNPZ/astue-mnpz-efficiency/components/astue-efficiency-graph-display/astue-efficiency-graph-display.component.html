<div class="graph-display">
  <div class="graph-display__header header">
    <div class="header__buttons">
      <div matRipple matRippleColor="white" class="button button_active">Графическое отображение</div>
      <div matRipple matRippleColor="white" class="button" (click)="clickDisplayButton()">Табличное отображение</div>
    </div>
  </div>
  <div class="graph-display__counters counters">
    <div class="counters__header">
      <div class="counter-header">Отклонение за период</div>
      <div class="counter-header">Факт за период</div>
    </div>
    <div class="counters__cards">
      <div class="counter-card card">
        <div class="card__title">План_план-План_факт</div>
        <div class="card__value">
          <div class="value">
            {{labels?.periodPlanPlan?.value | number : '1.0-2'}}
            <span class="unit">{{unit}}</span>
          </div>
        </div>
        <div class="label" *ngIf="labels?.periodPlanPlan?.statusName">{{labels?.periodPlanPlan?.statusName}}</div>
      </div>
      <div class="counter-card card">
        <div class="card__title">План_план-Факт</div>
        <div class="card__value">
          <div class="value">
            {{labels?.periodPlanFact?.value | number : '1.0-2'}}
            <span class="unit">{{unit}}</span>
          </div>
        </div>
        <div class="label" *ngIf="labels?.periodPlanFact?.statusName">{{labels?.periodPlanFact?.statusName}}</div>
      </div>
      <div class="counter-card card">
        <div class="card__title">План_факт-Факт</div>
        <div class="card__value">
          <div class="value">
            {{labels?.periodDeviations?.value | number : '1.0-2'}}
            <span class="unit">{{unit}}</span>
          </div>
        </div>
        <div class="label" *ngIf="labels?.periodDeviations?.statusName">{{labels?.periodDeviations?.statusName}}</div>
      </div>
      <div class="counter-card card_single">
        <div class="card__value">
          <div class="value">
            {{labels?.periodCounter?.value | number : '1.0-2'}}
            <span class="unit">{{unit}}</span>
          </div>
        </div>
      </div>
    </div>
    <div class="counters__header">
      <div class="counter-header">Отклонение на текущий момент</div>
      <div class="counter-header">Факт на текущий момент</div>
    </div>
    <div class="counters__cards">
      <div class="counter-card card">
        <div class="card__title">План_план-План_факт</div>
        <div class="card__value">
          <div class="value">
            {{labels?.currentPlanPlan?.value | number : '1.0-2'}}
            <span class="unit">{{unit}}/ч</span>
          </div>
        </div>
        <div class="label" *ngIf="labels?.currentPlanPlan?.statusName">{{labels?.currentPlanPlan?.statusName}}</div>
      </div>
      <div class="counter-card card">
        <div class="card__title">План_план-Факт</div>
        <div class="card__value">
          <div class="value">
            {{labels?.currentPlanFact?.value | number : '1.0-2'}}
            <span class="unit">{{unit}}/ч</span>
          </div>
        </div>
        <div class="label" *ngIf="labels?.currentPlanFact?.statusName">{{labels?.currentPlanFact?.statusName}}</div>
      </div>
      <div class="counter-card card">
        <div class="card__title">План_факт-Факт</div>
        <div class="card__value">
          <div class="value">
            {{labels?.currentDeviation?.value | number : '1.0-2'}}
            <span class="unit">{{unit}}/ч</span>
          </div>
        </div>
        <div class="label" *ngIf="labels?.currentDeviation?.statusName">{{labels?.currentDeviation?.statusName}}</div>
      </div>
      <div class="counter-card card_single">
        <div class="card__value">
          <div class="value">
            {{labels?.currentValue?.value | number : '1.0-2'}}
            <span class="unit">{{unit}}/ч</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="graph-display__graph graph">
    <div class="units" *ngIf="flowUnits">{{flowUnits}}</div>
    <!--<div class="graph__container">
      <div class="vertical-scroll">
        <evj-vertical-smart-scroll
          [limits]="valuesFrame"
          [(sbThumbTop)]="sbTop"
          [(sbThumbHeight)]="sbHeight"
        ></evj-vertical-smart-scroll>
      </div>
      <div class="graph-area">-->
        <evj-line-chart-shared
          [showAstueLegend]="true"
          [astueLegendUnit]="unit"
          [data]="data"
          [isShowingLegend]="true"
          [limits]="selectedPeriod"
          [scroll]="{left: sbLeft, right: 100 - sbLeft - sbWidth}"
          [verticalLimits]="valuesFrame"
          [verticalScroll]="{top: sbTop, bottom: 100 - sbTop - sbHeight}"
          chartType="astue-efficiency"
        ></evj-line-chart-shared>
      <!--</div>
    </div>-->
  </div>
  <div class="graph-display__scroll scroll">
    <evj-smart-scroll
      class="scroll__smart"
      [limits]="selectedPeriod"
      [data]="scrollData"
      [(sbThumbLeft)]="sbLeft"
      [(sbThumbWidth)]="sbWidth"
    ></evj-smart-scroll>
  </div>
</div>
