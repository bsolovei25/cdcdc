<div class="graph-display">
  <div class="graph-display__header header">
    <div class="header__buttons">
      <div matRipple matRippleColor="white" class="button button_active">Графическое отображение</div>
      <div matRipple matRippleColor="white" class="button" (click)="clickDisplayButton()">Табличное отображение</div>
    </div>
  </div>
  <div class="graph-display__counters counters">
    <div class="counters__header">
      <div class="counter-header">Отклонение за период</div>
      <div class="counter-header">Факт за период</div>
    </div>
    <div class="counters__cards">
      <div class="counter-card card">
        <div class="card__title">План-план\План-факт</div>
        <div class="card__value">
          {{labels?.periodPlanPlan?.value.toFixed(2)}}
          <div class="unit">{{unit}}</div>
        </div>
        <div class="label" *ngIf="labels?.periodPlanPlan?.statusName">{{labels?.periodPlanPlan?.statusName}}</div>
      </div>
      <div class="counter-card card">
        <div class="card__title">План-план\Факт</div>
        <div class="card__value">
          {{labels?.periodPlanFact?.value.toFixed(2)}}
          <div class="unit">{{unit}}</div>
        </div>
        <div class="label" *ngIf="labels?.periodPlanFact?.statusName">{{labels?.periodPlanFact?.statusName}}</div>
      </div>
      <div class="counter-card card">
        <div class="card__title">План-факт\Факт</div>
        <div class="card__value">
          {{labels?.periodDeviations?.value.toFixed(2)}}
          <div class="unit">{{unit}}</div>
        </div>
        <div class="label" *ngIf="labels?.periodDeviations?.statusName">{{labels?.periodDeviations?.statusName}}</div>
      </div>
      <div class="counter-card card_single">
        <div class="card__value">
          {{labels?.periodCounter?.value.toFixed(3)}}
          <div class="unit">{{unit}}</div></div>
      </div>
    </div>
    <div class="counters__header">
      <div class="counter-header">Отклонение на текущий момент</div>
      <div class="counter-header">Факт на текущий момент</div>
    </div>
    <div class="counters__cards">
      <div class="counter-card card">
        <div class="card__title">План-план\План-факт</div>
        <div class="card__value">
          {{labels?.currentPlanPlan?.value.toFixed(2)}}
          <div class="unit">{{unit}}</div>
        </div>
        <div class="label" *ngIf="labels?.currentPlanPlan?.statusName">{{labels?.currentPlanPlan?.statusName}}</div>
      </div>
      <div class="counter-card card">
        <div class="card__title">План-план\Факт</div>
        <div class="card__value">
          {{labels?.currentPlanFact?.value.toFixed(2)}}
          <div class="unit">{{unit}}</div>
        </div>
        <div class="label" *ngIf="labels?.currentPlanFact?.statusName">{{labels?.currentPlanFact?.statusName}}</div>
      </div>
      <div class="counter-card card">
        <div class="card__title">План-факт\Факт</div>
        <div class="card__value">
          {{labels?.currentDeviation?.value.toFixed(2)}}
          <div class="unit">{{unit}}</div>
        </div>
        <div class="label" *ngIf="labels?.currentDeviation?.statusName">{{labels?.currentDeviation?.statusName}}</div>
      </div>
      <div class="counter-card card_single">
        <div class="card__value">
          {{labels?.currentValue?.value.toFixed(3)}}
          <div class="unit">{{unit}}</div>
        </div>
      </div>
    </div>
  </div>
  <div class="graph-display__graph graph">
    <div class="units" *ngIf="flowUnits">{{flowUnits}}</div>
    <div class="graph__container">
      <evj-line-chart-shared
        [data]="data"
        [isShowingLegend]="true"
        [limits]="selectedPeriod"
        [scroll]="{left: sbLeft, right: 100 - sbLeft - sbWidth}"
        chartType="astue-efficiency"
      ></evj-line-chart-shared>
    </div>
  </div>
  <div class="graph-display__scroll scroll">
    <evj-smart-scroll
      class="scroll__smart"
      [limits]="selectedPeriod"
      [data]="scrollData"
      [(sbThumbLeft)]="sbLeft"
      [(sbThumbWidth)]="sbWidth"
    ></evj-smart-scroll>
  </div>
</div>
