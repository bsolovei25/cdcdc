<div class="container">
  <div class="alert">
    <div class="claims">
      <div class="list">
        <ng-container *ngFor="let claim of allClaims">
          <div
            class="card"
            *ngIf="claimsFilter(claim)"
            [ngClass]="{'card_active':selectClaim.isSelected(claim)}"
            (click)="selectClaim.toggle(claim)"
          >
            {{claim.claimName}}
          </div>
        </ng-container>
      </div>
    </div>
    <div class="search" *ngIf="selectClaim.hasValue()">
      <input type="text" placeholder="Поиск" [(ngModel)]="search" (keyup)="searchFn($event)">
    </div>
    <div class="list-button" *ngIf="selectClaim.hasValue()" (click)="onClickListButton()">
      {{!checkIsAllSelected() ? 'Выделить все' : 'Снять выделение'}}
    </div>
    <div class="items">
      <div class="list" *ngIf="selectClaim.hasValue()">
        <ng-container *ngIf="itemsFilter()">
          <div
            class="card"
            *ngFor="let widget of formEntitiesList()"
            [ngClass]="{card_active:selectWidget.isSelected(widget)}"
            (click)="selectWidget.toggle(widget)"
          >
            {{widget.title}}
          </div>
        </ng-container>
        <ng-container *ngIf="!itemsFilter()">
          <div
            class="card"
            *ngFor="let unit of filterAllWidgets()"
            [ngClass]="{'card_active':selectUnit.isSelected(unit)}"
            (click)="selectUnit.toggle(unit)"
          >
            {{unit.name}}
          </div>
        </ng-container>
      </div>
    </div>
    <div class="alert__buttons">
      <evj-button
        class="button"
        [isChangingState]="false"
        [isSmallButton]="false"
        [textButton]="'Подтвердить'"
        (click)="onSave()"
      ></evj-button>
      <evj-button
        class="button"
        [isChangingState]="false"
        [isSmallButton]="false"
        [textButton]="'Назад'"
        (click)="onBack()"
      ></evj-button>
    </div>
  </div>
</div>
