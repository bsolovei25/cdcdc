<div class="box-container">
  <div #gauge class="gauge-container" [style]="chartWidth">
    <div class="diagram" #diagram></div>
  </div>
  <div class="diagrams-container">
    <ng-container *ngTemplateOutlet="lineDiagram; context: {label: 'Температура P-201. Норма 510-545 град.', currentValue: 6, maxValue: 10}"></ng-container>
    <ng-container *ngTemplateOutlet="lineDiagram; context: {label: 'Температура сырья', currentValue: 8, maxValue: 10}"></ng-container>
    <ng-container *ngTemplateOutlet="lineDiagram; context: {label: 'Расход ВГ', currentValue: 3, maxValue: 10}"></ng-container>
    <ng-container *ngTemplateOutlet="lineDiagram; context: {label: 'Кратность циркуляции катализатора', currentValue: 9, maxValue: 10}"></ng-container>
  </div>
  <div class="border-container" [style]="borderLeft"></div>
</div>

<ng-template #lineDiagram let-label="label" let-currentValue="currentValue" let-maxValue="maxValue">
  <div class="diagram-container">
    <div class="label">{{label}}</div>
    <div class="diagram-component">
      <div class="value">{{currentValue}}</div>
      <div class="line-diagram-container">
        <div class="line-diagram-container-entry">
          <div class="line-diagram-background"></div>
          <div [style]="getLineWidth(currentValue, maxValue)" class="line-diagram-value"></div>
        </div>
      </div>
      <div class="value">{{maxValue}}</div>
    </div>
  </div>
</ng-template>
