<evj-widget-preview
  [title]="title"
  [previewTitle]="previewTitle"
  *ngIf="isMock"
></evj-widget-preview>

<div class="container" *ngIf="!isMock">
  <evj-widget-header
    [title]="title"
    [id]="id"
    [units]="units"
    [uniqId]="uniqId"
  ></evj-widget-header>

  <evj-frame-top></evj-frame-top>

  <div
    class="content"
    (mousedown)="$event.stopPropagation()"
    (touchstart)="$event.stopPropagation()"
  >

    <div class="references">
      <div class="reference-left">
        <div class="title-reference">Наименование справочника</div>
        <div class="reference-container">
          <ng-container *ngFor="let item of data">
            <div class="reference-container__block" (click)="onClickReference(item)">
              <div class="reference-container__block-info" [class.block-active]="item.open">
                <div class="reference-container__name">{{item.name}}</div>
                <div class="reference-container__button-edit" (click)="onClickEditReference(item)">
                  <svg-icon
                    *ngIf="item.open"
                    class="indicator-selector__collapse"
                    src="./assets/icons/widgets/references/edit_white.svg"
                  ></svg-icon>
                </div>
              </div>
              <div class="reference-container__button-remove" (click)="onClickDeleteReference(item)">
                <svg-icon
                class="indicator-selector__collapse"
                src="./assets/icons/widgets/references/delete_red.svg"
                *ngIf="item.open"
              >
              </svg-icon>
              </div>
            </div>
          </ng-container>
        </div>
        <div class="bottom-reference-left">
          <div class="bottom-reference-left__block">
            <div class="bottom-reference-left__button-add">
              <svg-icon
                src="./assets/icons/widgets/references/add_white.svg"
                class="add_button_icon"
               
              ></svg-icon>
            </div>
            <div class="bottom-reference-left__input-block">
              <div class="bottom-reference-left__button-search">
                <svg-icon
                  class="button_filter_icon"
                  src="./assets/icons/widgets/references/search_white.svg"
                ></svg-icon>
              </div>
              <div class="bottom-reference-left__input">
                <input type="text" />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="reference-right">
        <div class="title-reference">
          <div class="title-reference__title-name">Наименование колонны</div>
          <div class="title-reference__title-type">Тип</div>
          <div class="title-reference__title-value">Обязательное значение</div>
          <div class="title-reference__title-uniqValue">Уникальное значение</div>
        </div>
        <div class="references-container-scroll-block">
          <div class="reference-container-value" cdkDropList (cdkDropListDropped)="drop($event)"> 
            <div *ngFor="let item of data" cdkDrag class="example-box">
              <div class="reference-container-value__block" >
                <div
                  class="reference-container-value__fio-block"
                  [class.block-active]="item.open"
                  (click)="onClickItemReference(item)"
                >
                  <div class="reference-container-value__fio">{{item.name}}</div>
                </div>
                <div class="reference-container-value__type"   [class.block-active]="item.open">
                  <mat-form-field class="categories_selectbox">
                    <mat-select panelClass="mat-select-custom">
                      <mat-option *ngFor="let p of data" [value]="p">{{ p.name }} </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="reference-container-value__value"   [class.block-active]="item.open">
                  <label class="mycheckbox">
                    <input
                      type="checkbox"
                      id="checkBoxValue"
                      class="mycheckbox__default"
                      (click)="changeSwap()"
                    />
                    <div class="mycheckbox__new" [class.mycheckbox__checked]="!valueCheck"></div>
                  </label>
                </div>
                <div class="reference-container-value__uniqValue"   [class.block-active]="item.open">
                  <label class="mycheckbox">
                    <input
                      type="checkbox"
                      id="checkBoxUniqValue"
                      class="mycheckbox__default"
                      (click)="changeUniqSwap()"
                    />
                    <div
                      class="mycheckbox__new"
                      [class.mycheckbox__checked]="!valueUniqCheck"
                    ></div>
                  </label>
                </div>
                <div class="reference-container-value__delete-button-none"  [class.reference-container-value__delete-button]="item.open">
                  <svg-icon
                    class="indicator-selector__collapse"
                    src="./assets/icons/widgets/references/delete_blue.svg"
                  ></svg-icon>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="bottom-reference-right">
          <div class="bottom-reference-right__block">
            <div class="bottom-reference-right__button-add">
              <svg-icon
                src="./assets/icons/widgets/references/add_white.svg"
                class="add_button_icon"
            
              ></svg-icon>
            </div>
            <div class="bottom-reference-right__input-block">
              <div class="bottom-reference-right__button-search">
                <svg-icon
                  class="button_filter_icon"
                  src="./assets/icons/widgets/references/search_white.svg"
                ></svg-icon>
              </div>
              <div class="bottom-reference-right__input">
                <input type="text" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <evj-frame-bottom></evj-frame-bottom>
</div>
