<div class="header">
  <div class="pointer-events">
    <div class="header__content drag handle">
      <div class="header__icon-wrapper">
        <svg-icon class="header__icon" src="./assets/icons/widgets/events/letter.svg"></svg-icon>
      </div>
      <div *ngIf="this.isMock === false" class="header__icon-wrapper" (click)="listView(false)">
        <svg-icon [ngClass]="{'list': !isList}" class="header__icon" src="./assets/pic/list.svg">
        </svg-icon>
      </div>
      <div *ngIf="this.isMock === false" class="header__icon-wrapper" (click)="listView(true)">
        <svg-icon [ngClass]="{'blocks': isList}" class="header__icon" src="./assets/pic/blocks.svg"></svg-icon>
      </div>
      <span class="header__name">
        {{ title }}
      </span>
      <div class="delete_widget" (click)="onRemoveButton()" (mousedown)="$event.stopPropagation()"
        (touchstart)="$event.stopPropagation()">
        <svg-icon style="height: 100%; width: 100%; fill: #8C99B2" src="./assets/icons/close_bad.svg"></svg-icon>
      </div>
    </div>
  </div>
</div>

  <ng-container *ngIf="this.isMock === true">
    <evj-frame-top></evj-frame-top>
    <div class="mock-container_content">events</div>
    <evj-frame-bottom></evj-frame-bottom>
  </ng-container>

  <ng-container *ngIf="this.isMock === false">

    <ng-container *ngIf="isList">
      <div class="pointer-events" (mousedown)="$event.stopPropagation()" (touchstart)="$event.stopPropagation()">
        <div class="events">
          <div class="notifications">
            <div class="notifications__block__list scroll-bar">
              <div class="notification__block notifications__block__item" *ngFor="let n of notifications"
                (click)="eventClick(n.id)" [ngClass]="{'selected-block': selectedId === n.id}">

                <div class="notification__block__header">
                  <span class="notification__block__number" [ngClass]="'notification__number_' + n.priority">
                    {{n.itemNumber}}
                  </span>

                  <div class="notification__block__extra">
                    <span class="notification__block__status"
                      [ngClass]="'notification__block__status_' + n.priority.name">
                      {{n.statusName}}
                    </span>

                    <span class="notification__block__status">
                      <svg-icon [applyCss]="true" [src]="n.iconUrlStatus"
                        [ngClass]="'notification__block__icon_' + n.priority.name"
                        [svgStyle]="{'fill':'rgb(63, 168, 243)'}">
                      </svg-icon>
                    </span>

                    <span class="notification__block__status">
                      <svg-icon class="notification__block__icon notification__block__icon_delete" [applyCss]="true"
                        src="./assets/garbage_bad_pic.svg" (click)="deleteEvent(n.id)"
                        (mousedown)="$event.stopPropagation()" (touchstart)="$event.stopPropagation()">
                      </svg-icon>
                    </span>

                    <span class="notification__block__span__icon">
                      <svg-icon [applyCss]="true" class="notification__block__icon__right" [src]="n.iconUrl"
                        [ngClass]="'notification__block__icon_'" [svgStyle]="{'fill':'rgb(63, 168, 243)'}">
                      </svg-icon>
                    </span>

                  </div>
                  <!--  <span class="notification__block__name">
                  {{n.eventType}}
                </span>
                <div class="line notification__block__line notification__block__line_top">
                  <div class="line__circle line__circle__left"></div>
                  <div class="line__circle line__circle__right"></div>
                </div>
                <span class="notification__block__date-time">
                  {{n.eventDateTime | date: 'dd.MM.yyyy HH:mm'}}
                </span> -->
                </div>

                <div class="notification__block__body">

                  <span class="notification__block__description">
                    {{n.description}}
                  </span>

                </div>

              </div>
            </div>
          </div>

          <div class="controls">
            <div class="controls__line controls__line_left">
              <div class="controls__circle controls__circle_left">
              </div>
            </div>

            <div class="filters">
              <div class="filter filters__item" *ngFor="let f of filters" (click)="onFilterClick(f)"
                [class.filter_active]="f.isActive">
                <span class="filter__name">
                  {{f.name}}
                </span>
                <span class="filter__count">
                  {{f.notificationsCount}}
                </span>
              </div>
            </div>

            <div class="categories">
              <div class="categories__line categories__line_left">
                <div class="categories__circle categories__circle_left">
                </div>
              </div>

              <div class="category categories__item" *ngFor="let c of categories" (click)="onCategoryClick(c)"
                [class.category_active]="c.isActive">

                <div class="line category__line category__line_top">
                  <div class="line__circle line__circle__left"></div>
                  <div class="line__circle line__circle__right"></div>
                </div>

                <div class="category__row category__row_top">
                  <span class="category__name">{{c.name}}</span>
                </div>

                <div class="category__row category__row_bottom">
                  <svg-icon class="category__icon" [applyCss]="true" [src]="c.iconUrl"></svg-icon>

                  <div class="counts category__counts">
                    <span class="counts__count">{{c.notificationsCounts?.closed}}</span>
                    <span class="counts__count">/</span>
                    <span class="counts__count">{{c.notificationsCounts?.all}}</span>
                  </div>
                </div>

                <div class="line category__line category__line_bottom">
                  <div class="line__circle line__circle__left"></div>
                  <div class="line__circle line__circle__right"></div>
                </div>

              </div>

            </div>

            <div class="controls__line controls__line_right">
              <div class="controls__circle controls__circle_right">
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>

    <!-- <ng-container *ngIf="isMock === false">  -->
    <ng-container *ngIf="!isList">
      <div class="pointer-events" (mousedown)="$event.stopPropagation()" (touchstart)="$event.stopPropagation()">
        <div class="events">

          <div class="notifications">
            <div class="notifications__list scroll-bar">
              <div class="notification notifications__item" *ngFor="let n of notifications" (click)="eventClick(n.id)"
                [ngClass]="{'selected': selectedId === n.id}">

                <div class="notification__header">
                  <span class="notification__number" [ngClass]="'notification__number_' + n.priority">
                    {{n.itemNumber}}
                  </span>
                  <span class="notification__name">
                    {{n.eventType}}
                  </span>
                  <div class="line notification__line notification__line_top">
                    <div class="line__circle line__circle__left"></div>
                    <div class="line__circle line__circle__right"></div>
                  </div>
                  <span class="notification__date-time">
                    {{n.eventDateTime | date: 'dd.MM.yyyy HH:mm'}}
                  </span>
                </div>

                <div class="notification__body">
                  <span class="notification__description">
                    {{n.description}}
                  </span>

                  <div class="notification__extra" (mousedown)="$event.stopPropagation()"
                    (touchstart)="$event.stopPropagation()">
                    <span class="notification__status" [ngClass]="'notification__status_' + n.priority.name">
                      {{n.statusName}}
                    </span>
                    <svg-icon class="notification__icon" [applyCss]="true" [src]="n.iconUrl"
                      [ngClass]="'notification__icon_' + n.priority.name"></svg-icon>
                    <svg-icon class="notification__icon_delete" [applyCss]="true" src="./assets/garbage_bad_pic.svg"
                      (click)="deleteEvent(n.id)" (mousedown)="$event.stopPropagation()"
                      (touchstart)="$event.stopPropagation()">
                    </svg-icon>
                    <span class="notification__icon_delete__mock"></span>
                  </div>

                </div>

                <div class="line notification__line notification__line_bottom">
                  <div class="line__circle line__circle__left"></div>
                  <div class="line__circle line__circle__right"></div>
                </div>

              </div>
            </div>
          </div>

          <div class="controls">
            <div class="controls__line controls__line_left">
              <div class="controls__circle controls__circle_left">
              </div>
            </div>

            <div class="filters">
              <div class="filter filters__item" *ngFor="let f of filters" (click)="onFilterClick(f)"
                [class.filter_active]="f.isActive">
                <span class="filter__name">
                  {{f.name}}
                </span>
                <span class="filter__count">
                  {{f.notificationsCount}}
                </span>
              </div>
            </div>

            <div class="categories">
              <div class="categories__line categories__line_left">
                <div class="categories__circle categories__circle_left">
                </div>
              </div>

              <div class="category categories__item" *ngFor="let c of categories" (click)="onCategoryClick(c)"
                [class.category_active]="c.isActive">

                <div class="line category__line category__line_top">
                  <div class="line__circle line__circle__left"></div>
                  <div class="line__circle line__circle__right"></div>
                </div>

                <div class="category__row category__row_top">
                  <span class="category__name">{{c.name}}</span>
                </div>

                <div class="category__row category__row_bottom">
                  <svg-icon class="category__icon" [applyCss]="true" [src]="c.iconUrl"></svg-icon>

                  <div class="counts category__counts">
                    <span class="counts__count">{{c.notificationsCounts?.closed}}</span>
                    <span class="counts__count">/</span>
                    <span class="counts__count">{{c.notificationsCounts?.all}}</span>
                  </div>
                </div>

                <div class="line category__line category__line_bottom">
                  <div class="line__circle line__circle__left"></div>
                  <div class="line__circle line__circle__right"></div>
                </div>

              </div>

            </div>

            <div class="controls__line controls__line_right">
              <div class="controls__circle controls__circle_right">
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
    <evj-frame-bottom class="frame-bottom"></evj-frame-bottom>
<!--    <div class="frame frame_bottom" (mousedown)="$event.stopPropagation()" (touchstart)="$event.stopPropagation()">-->
<!--      <div class="frame__circle frame__circle__left"></div>-->
<!--      <div class="frame__circle frame__circle__right"></div>-->
<!--    </div>-->

  </ng-container>
