<div class="header">
  <div class="header__content">
    <div class="header__icon-wrapper">
      <svg-icon class="header__icon" src="./assets/icons/widgets/events/letter.svg"></svg-icon>
    </div>
    <div class="header__icon-wrapper" (click)="isList = !isList">
      <svg-icon class="header__icon" src="./assets/pic/list.svg"></svg-icon>
    </div>
    <div class="header__icon-wrapper" (click)="isList = !isList">
      <svg-icon class="header__icon" src="./assets/pic/blocks.svg"></svg-icon>
    </div>
    <span class="header__name">
      {{ name }}
    </span>
  </div>
</div>

<ng-container *ngIf="isList">
  <div class="events">

    <div class="notifications">
      <div class="notifications__block__list scroll-bar">
        <div class="notification__block notifications__block__item" *ngFor="let n of notifications">

          <div class="notification__block__header">
            <span class="notification__block__number" [ngClass]="'notification__number_' + n.priority">
              {{n.itemNumber}}
            </span>

            <div class="notification__block__extra">
              <span class="notification__block__status" [ngClass]="'notification__block__status_' + n.priority.name">
                {{n.statusName}}
              </span>

              <span class="notification__block__status">
                <svg-icon [applyCss]="true" [src]="n.iconUrlStatus"
                  [ngClass]="'notification__block__icon_' + n.priority.name" [svgStyle]="{'fill':'rgb(63, 168, 243)'}">
                </svg-icon>
              </span>

              <span class="notification__block__span__icon">
                <svg-icon [applyCss]="true" class="notification__block__icon" [src]="n.iconUrl"
                  [ngClass]="'notification__block__icon_' + n.priority" [svgStyle]="{'fill':'rgb(63, 168, 243)'}">
                </svg-icon>
              </span>

            </div>
            <!--  <span class="notification__block__name">
                  {{n.eventType}}
                </span>
                <div class="line notification__block__line notification__block__line_top">
                  <div class="line__circle line__circle__left"></div>
                  <div class="line__circle line__circle__right"></div>
                </div>
                <span class="notification__block__date-time">
                  {{n.eventDateTime | date: 'dd.MM.yyyy HH:mm'}}
                </span> -->
          </div>

          <div class="notification__block__body">

            <span class="notification__block__description">
              {{n.description}}
            </span>

          </div>

        </div>
      </div>
    </div>

    <div class="controls">
      <div class="controls__line controls__line_left">
        <div class="controls__circle controls__circle_left">
        </div>
      </div>

      <div class="filters">
        <div class="filter filters__item" *ngFor="let f of filters" (click)="onFilterClick(f)"
          [class.filter_active]="f.isActive">
          <span class="filter__name">
            {{f.name}}
          </span>
          <span class="filter__count">
            {{f.notificationsCount}}
          </span>
        </div>
      </div>

      <div class="categories">
        <div class="categories__line categories__line_left">
          <div class="categories__circle categories__circle_left">
          </div>
        </div>

        <div class="category categories__item" *ngFor="let c of categories" (click)="onCategoryClick(c)"
          [class.category_active]="c.isActive">

          <div class="line category__line category__line_top">
            <div class="line__circle line__circle__left"></div>
            <div class="line__circle line__circle__right"></div>
          </div>

          <div class="category__row category__row_top">
            <span class="category__name">{{c.name}}</span>
          </div>

          <div class="category__row category__row_bottom">
            <svg-icon class="category__icon" [applyCss]="true" [src]="c.iconUrl"></svg-icon>

            <div class="counts category__counts">
              <span class="counts__count">{{c.notificationsCounts?.closed}}</span>
              <span class="counts__count">/</span>
              <span class="counts__count">{{c.notificationsCounts?.all}}</span>
            </div>
          </div>

          <div class="line category__line category__line_bottom">
            <div class="line__circle line__circle__left"></div>
            <div class="line__circle line__circle__right"></div>
          </div>

        </div>

      </div>

      <div class="controls__line controls__line_right">
        <div class="controls__circle controls__circle_right">
        </div>
      </div>
    </div>
  </div>

</ng-container>

<!-- <ng-container *ngIf="isMock === false">  -->
<ng-container *ngIf="!isList">

  <div class="events">

    <div class="notifications">
      <div class="notifications__list scroll-bar">
        <div class="notification notifications__item" *ngFor="let n of notifications">

          <div class="notification__header">
            <span class="notification__number" [ngClass]="'notification__number_' + n.priority">
              {{n.itemNumber}}
            </span>
            <span class="notification__name">
              {{n.eventType}}
            </span>
            <div class="line notification__line notification__line_top">
              <div class="line__circle line__circle__left"></div>
              <div class="line__circle line__circle__right"></div>
            </div>
            <span class="notification__date-time">
              {{n.eventDateTime | date: 'dd.MM.yyyy HH:mm'}}
            </span>
          </div>

          <div class="notification__body">
            <span class="notification__description">
              {{n.description}}
            </span>

            <div class="notification__extra">
              <span class="notification__status" [ngClass]="'notification__status_' + n.priority.name">
                {{n.statusName}}
              </span>
              <svg-icon class="notification__icon" [applyCss]="true" [src]="n.iconUrl"
                [ngClass]="'notification__icon_' + n.priority.name"></svg-icon>
            </div>

          </div>

          <div class="line notification__line notification__line_bottom">
            <div class="line__circle line__circle__left"></div>
            <div class="line__circle line__circle__right"></div>
          </div>

        </div>
      </div>
    </div>

    <div class="controls">
      <div class="controls__line controls__line_left">
        <div class="controls__circle controls__circle_left">
        </div>
      </div>

      <div class="filters">
        <div class="filter filters__item" *ngFor="let f of filters" (click)="onFilterClick(f)"
          [class.filter_active]="f.isActive">
          <span class="filter__name">
            {{f.name}}
          </span>
          <span class="filter__count">
            {{f.notificationsCount}}
          </span>
        </div>
      </div>

      <div class="categories">
        <div class="categories__line categories__line_left">
          <div class="categories__circle categories__circle_left">
          </div>
        </div>

        <div class="category categories__item" *ngFor="let c of categories" (click)="onCategoryClick(c)"
          [class.category_active]="c.isActive">

          <div class="line category__line category__line_top">
            <div class="line__circle line__circle__left"></div>
            <div class="line__circle line__circle__right"></div>
          </div>

          <div class="category__row category__row_top">
            <span class="category__name">{{c.name}}</span>
          </div>

          <div class="category__row category__row_bottom">
            <svg-icon class="category__icon" [applyCss]="true" [src]="c.iconUrl"></svg-icon>

            <div class="counts category__counts">
              <span class="counts__count">{{c.notificationsCounts?.closed}}</span>
              <span class="counts__count">/</span>
              <span class="counts__count">{{c.notificationsCounts?.all}}</span>
            </div>
          </div>

          <div class="line category__line category__line_bottom">
            <div class="line__circle line__circle__left"></div>
            <div class="line__circle line__circle__right"></div>
          </div>

        </div>

      </div>

      <div class="controls__line controls__line_right">
        <div class="controls__circle controls__circle_right">
        </div>
      </div>
    </div>
  </div>
</ng-container>

<div class="frame frame_bottom">
  <div class="frame__circle frame__circle__left"></div>
  <div class="frame__circle frame__circle__right"></div>
</div>