<evj-widget-preview
  [icon]="widgetIcon"
  [title]="widgetTitle"
  [previewTitle]="widgetType"
  *ngIf="isMock"
>
</evj-widget-preview>

<ng-container *ngIf="!isMock">
  <div class="container pointer-event events-workspace__scroll">
    <!-- loading data -->
    <evj-loading-shade [isLoading]="ewService.isLoading"></evj-loading-shade>

    <evj-widget-header
      [title]="widgetTitle"
      [icon]="widgetIcon"
      [units]="widgetUnits"
      [code]="widgetCode"
      [id]="widgetId"
      [uniqId]="widgetUniqId"
      [widgetType]="widgetType"
      (eventCreated)="createdEvent($event)"
      [isEventOpen]="!ewService.isEditEvent"
      [blockWorkspaceButton]="!!ewService.event?.isUserCanEdit"
    >
    </evj-widget-header>

    <evj-frame-top></evj-frame-top>

    <!-- EVENT -->
    <div class="container-widget">
      <!-- <evj-usual-event *ngIf="!isMock && ewService.event"></evj-usual-event> -->

      <evj-smotr-event *ngIf="!ewService.isLoading"></evj-smotr-event>

      <!-- NO-SELECTED EVENT -->
      <!-- <ng-container *ngIf="!isMock && !ewService.event">
        <div
          class="workspace__mock"
          (mousedown)="$event.stopPropagation()"
          (touchstart)="$event.stopPropagation()"
        >
          <div class="workspace__submit">
            Создайте или выберите событие
          </div>
        </div>
      </ng-container> -->
    </div>

    <evj-frame-bottom></evj-frame-bottom>

    <!-- RETRIEVAL EVENT POPUP -->
    <evj-retrieval-window
      id="overlay-retrieval"
      (mousedown)="$event.stopPropagation()"
      (touchstart)="$event.stopPropagation()"
      *ngIf="ewService.isOverlayRetrivealOpen"
      (click)="overlayClose()"
    ></evj-retrieval-window>

    <!---->
  </div>
</ng-container>
