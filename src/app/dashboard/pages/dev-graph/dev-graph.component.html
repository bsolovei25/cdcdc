<div class="page-container">
  <div class="widget-container">
    <div class="container">
<!--      <div class="header">-->
<!--        <div class="header__icon">-->
<!--          <svg-icon [svgStyle]="{'width': '100%', 'height': '100%'}" src="assets/icons/widgets/SOU/header-icons/letter.svg"></svg-icon>-->
<!--        </div>-->
<!--        <div class="header__label">Карточки отклонений</div>-->
<!--        <span style="flex-grow: 1"></span>-->
<!--        <div class="header__button-close">-->
<!--          <svg-icon [svgStyle]="{'width': '100%', 'height': '100%'}" src="assets/icons/widgets/SOU/header-icons/close.svg"></svg-icon>-->
<!--        </div>-->
<!--      </div>-->
      <evj-contemporary-widget-header type="astue"></evj-contemporary-widget-header>
      <div class="filter-panel">
        <ng-container *ngTemplateOutlet="filterSelect; context: {label: 'Ресурс'}"></ng-container>
        <ng-container *ngTemplateOutlet="filterSelect; context: {label: 'Производство'}"></ng-container>
        <ng-container *ngTemplateOutlet="filterSelect; context: {label: 'Установка'}"></ng-container>
      </div>
      <div class="table-content">
        <div class="scroll-container scroll-bar">
          <ng-container *ngTemplateOutlet="card; context: {title: 'Электроэнергия'}"></ng-container>
          <ng-container *ngTemplateOutlet="card; context: {title: 'Пар'}"></ng-container>
          <ng-container *ngTemplateOutlet="card; context: {title: 'Условное топливо'}"></ng-container>
          <ng-container *ngTemplateOutlet="card; context: {title: 'Теплофикационная вода'}"></ng-container>
          <ng-container *ngTemplateOutlet="card; context: {title: 'Паровой конденсат'}"></ng-container>
        </div>
      </div>
    </div>


    <ng-template #card let-title="title">
      <div class="card">
        <div class="card_header">

          <div class="card_header__icon">
            <svg-icon src="assets/icons/widgets/ASTUE-ONPZ/astue-onpz-deviation-cards/header-icon.svg"></svg-icon>
          </div>
          <span class="card_header__title">{{title}}</span>
          <span style="flex-grow: 1"></span>
          <span class="card_header__unit">АВТ-10</span>
        </div>
        <div class="card_content">
          <div class="card_content__icon">
            <svg-icon [svgStyle]="{'width': '100%', 'height': '100%'}" src="assets/icons/widgets/SOU/warning.svg"></svg-icon>
          </div>
          <div class="card_content__textarea">
            <span>Превышено плановое значение</span>
          </div>
        </div>
        <div class="card_footer">
          <span class="text_status">Новое</span>
          <span class="text_date">05.08.2020</span>
        </div>
      </div>
    </ng-template>

  </div>
</div>

<ng-template #filterSelect let-label="label">
  <div class="filter-select" [class.filter-select__mini]="label === 'Ресурс'">
    <mat-form-field>
      <mat-label>{{label}}</mat-label>
      <mat-select
        panelClass="mat-select-custom"
      >
        <mat-option *ngFor="let p of ['Коллоны и реакторы']" [value]="p">
          {{ p }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
</ng-template>


<!--<div class="column-container">-->
<!--  <evj-sou-balance-card [data]="{type: 'in', title: 'Сумма входа'}"></evj-sou-balance-card>-->
<!--  <evj-sou-balance-card [data]="{type: 'out', title: 'Сумма выхода'}"></evj-sou-balance-card>-->
<!--  <evj-sou-balance-card [data]="{type: 'delta', title: 'Дельта'}"></evj-sou-balance-card>-->
<!--  <evj-sou-balance-card [data]="{type: 'balance', title: 'Допустимый баланс'}"></evj-sou-balance-card>-->
<!--</div>-->

<!--<evj-sou-production-table></evj-sou-production-table>-->

<!--<evj-sou-losses-table></evj-sou-losses-table>-->

<!--<evj-sou-detail-table></evj-sou-detail-table>-->

<!--<evj-sou-deviation-cards></evj-sou-deviation-cards>-->
