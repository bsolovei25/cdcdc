<div class="widgets-panel" [class.widgets-panel_active]="active">
  <ng-container *ngIf="claimSettingsScreens.includes(EnumClaimScreens.add)">
    <div class="widgets-panel__toggle" (click)="onToggleClick('widgets')">
      <svg-icon
        class="widgets-panel__icon"
        src="./assets/icons/settings.svg"
        [class.widgets-panel__icon--active]="active && isWidgets === 'widgets'"
        [svgStyle]="{ 'width.px':20, 'height.px':20 }"
      ></svg-icon>
    </div>
  </ng-container>

  <ng-container *ngIf="claimSettingsScreens.includes(EnumClaimScreens.report)">
    <div class="widgets-panel__toggle__reports" (click)="onToggleClick('reports')">
      <svg-icon
        class="widgets-panel__icon__reports"
        [class.widgets-panel__icon__reports--active]="active && isWidgets === 'reports'"
        src="./assets/icons/widgets/widget-panel/reports.svg"
        [svgStyle]="{ 'width.px':20, 'height.px':20 }"
      ></svg-icon>
    </div>
  </ng-container>

  <div @fadeAnimation *ngIf="isWidgets === 'widgets'" class="widget__new">
    <h4 class="widgets-panel__heading">
      Доступные виджеты
    </h4>
    <div class="widget_menu">
      <label class="mycheckbox">
        <input
          type="checkbox"
          id="checkBoxFix"
          value="Swap Items"
          class="mycheckbox__default"
          (click)="changeSwap()"
        />
        <div class="mycheckbox__new" [class.mycheckbox__checked]="!fixWidget"></div>
        <div class="mycheckbox__descr">Зафиксировать виджеты</div>
      </label>
      <label class="mycheckbox">
        <input
          type="checkbox"
          id="checkBoxGrid"
          value="Swap Items"
          class="mycheckbox__default"
          (click)="getGridView()"
        />
        <div class="mycheckbox__new" [class.mycheckbox__checked]="!gridWidget"></div>
        <div class="mycheckbox__descr">Сетка</div>
      </label>
      <!--   <label class="mycheckbox">
      <input type="checkbox" id="checkBoxView" value="Swap Items" class="mycheckbox__default" (click)="getGridView()">
      <div class="mycheckbox__new"></div>
      <div class="mycheckbox__descr">Увеличить экран</div>
      </label> -->
    </div>
    <div class="search_block">
      <evj-search></evj-search>
    </div>
    <cdk-virtual-scroll-viewport
      itemSize="210"
      minBufferPx="1000"
      maxBufferPx="4000"
      class="widgets-panel__list scroll-bar"
    >
        <div
          *cdkVirtualFor="let item of filterWidgets$ | async; trackBy: dataById"
          draggable="true"
          (dragstart)="dragStartHandler($event, item.id)"
          class="widget"
        >
          <ng-container
            *ngComponentOutlet="WIDGETS[item.widgetType]; injector: (item.id | fn:getInjector);"
          >
          </ng-container>
        </div>
    </cdk-virtual-scroll-viewport>
  </div>
  <evj-reports @fadeAnimation *ngIf="isWidgets === 'reports'"></evj-reports>
</div>
