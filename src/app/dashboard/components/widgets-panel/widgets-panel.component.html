<div class="widgets-panel" [class.widgets-panel_active]="active">
  <div class="widgets-panel__toggle"
       (click)="onToggleClick()">
    <svg-icon class="widgets-panel__icon"
              src="./assets/icons/settings.svg" [svgStyle]="{ 'width.px':20, 'height.px':20 }"></svg-icon>
  </div>

  <h4 class="widgets-panel__heading">
    Доступные виджеты
  </h4>

  <div class="widgets-panel__list scroll-bar">
    <ng-container *ngFor="let w of widgets | async">
      <ng-container *ngIf="w.widgetType === 'manual-input'">
        {{w.name}}
        <evj-manual-input></evj-manual-input>
      </ng-container>
      <ng-container *ngIf="w.widgetType === 'line-chart'">
        {{w.name}}
        <evj-line-chart *ngIf="w"
                        [id]="w.id"
                        [code]="w.code"
                        [name]="w.name"
                        [units]="w.units"
                        [options]="w.widgetOptions"
                        [position]="w.id"
                        [dndDraggable]="{widget: w}"
                        class="widgets-panel__widget"></evj-line-chart>
      </ng-container>
      <ng-container *ngIf="w.widgetType === 'pie-chart'">
        {{w.name}}
        <evj-widgets-pie *ngIf="w"
                        [id]="w.id"
                        [code]="w.code"
                        [name]="w.name"
                        [position]="w.id"
                        [dndDraggable]="{widget: w}"
                        class="widgets-panel__widget"></evj-widgets-pie>
      </ng-container>
    </ng-container>
  </div>

</div>
